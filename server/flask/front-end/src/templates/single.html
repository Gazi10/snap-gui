<!DOCTYPE html>
<html>

<head>
    <title>Single Image Clean-Up</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="static/style/main.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Audiowide&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet">
    <script type="module" src="static/interactive/single.js"></script>
</head>

<body>
    <nav class="navbar navbar-expand-sm navbar-light">
        <a class="navbar-brand" href="/">SUIEP</a>
    
        <div class="collapse navbar-collapse">
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a href="/" class="nav-link">Home</a>
                </li>
                <li class="nav-item active">
                    <a href="/batch" class="nav-link">Batch Clean-Up</a>
                </li>
                <li class="nav-item active">
                    <a href="/single" class="nav-link active">Single Clean-Up</a>
                </li>
                <li class="nav-item active">
                    <a href="/about" class="nav-link">About</a>
                </li>
            </ul>
        </div>
    </nav>
    
    <div class="container-fluid text-center title-bg">
        <h1 class="m-0 p-5">Single Image Clean-Up</h1>
    </div>
    
    <div class="custom-shape-divider">
        <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
            <path d="M0,0V7.23C0,65.52,268.63,112.77,600,112.77S1200,65.52,1200,7.23V0Z" class="shape-fill"></path>
        </svg>
    </div>

    <div class="p-5 container-fluid" id="content">
        <form class="form-horizontal" action="/single-clean" method="POST" enctype="multipart/form-data">
            <div class="form-group">
                <label for="image-upload">Upload the image file you would like to clean:</label>
                <input type="file" class="form-control button m-3" id="image-upload" name="image">
            </div>
            <div class="form-group">
                <label for="create-template">
                    Click the "Create Mask Template" button to begin creating a mask for your image.
                    You can draw on the template by simply clicking and dragging your cursor.
                    Draw where you would like to remove GUI elements.
                    You can save the mask to your system by right-clicking and choosing "Save Image As" when its ready!
                </label>
                <button type="button" class="btn button m-3" id="create-template">Create Mask Template</button>
            </div>
            <div class="form-group">
                <label for="mask-upload">Upload the saved mask file from your system:</label>
                <input type="file" class="form-control button m-3" id="mask-upload" name="mask">
            </div>
            <div class="form-group">
                <label for="clean-button">Lastly, click the "Clean!" button to clean your image!</label>
                <br>
                <button type="submit" class="btn button m-3" id="clean-button">Clean!</button>
            </div>
        </form>
        <div class="row">
            <div class="col" align="center">
                <img class="m-3" id="image" width="400">
            </div>
            <div class="col" align="center">
                <canvas class="m-3" id="mask" width="400"></canvas>
            </div>
        </div>
    </div>

    <div class="m-5" id="loading"  width="150" height="150" align="center" style="display: none;">
        <img src="static/loading.gif">
        <br>
        <label>Cleaning image...</label>
    </div>
    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" 
            integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" 
            crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
</body>

</html>